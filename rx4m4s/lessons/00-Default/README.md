RX4M4S 函数介绍
===

这里出现了一种`输入`量： **Channel（通道）**，也叫信道（信号的通道）。

*Rx4m4s*接收机在完成配对的情况下，会以 50Hz 的频率从遥控器（发射器）接收数据包。

数据包中用于控制信号的报文总共 16 个字节，当前我们将 1 个字节设为 1 个通道（独立的信号通道），那么就有 16 个通道，每个通道的取值范围是 [-127, -126, ..., -1, 0, 1, ..., 127] （包含 -127 和 127），为 0 则说明当前在行程的中点，绝对值越大，则说明其偏离中点越远。其符号（正负号）则对应它偏离中点的方向。

> 具体这个16个字节的数据以什么样的方式编排数据，是由遥控器的程序决定的。

可以通过`getChannel(index)`函数来获取该字节的数据。可传入的 **index（序号）** 的值有 `[0, 1, 2, ...，14, 15 ]` 十六种情况。

> 这里编程所使用的是标准 C 语言代码，所以数组下标的计数由 0 开始。

这里还出现两种`输出`量： **MOTOR（电机）** 和 **SERVO（舵机）** 。

**MOTOR（电机）** 用于驱动有刷电机，每个电机有正负极 2 条 PWM 输出组成。其输出的是 -100% 到 0 到 +100%，除了控制电机的转速，也能控制电机的旋转方向。

可以将通道的数值 value 直接传入 `setMotor(index, value)`。

  * value 的 (-127，0, 127) 对应电机输出的 (-100%, 0, +100%)。
  * index 的范围是 [0, 1, 2, 3]，因为一共四组电机输出接口（PH2.0-2Pin）

**SERVO（舵机）** 用于驱动模拟舵机，每个舵机占用 1 条 PWM 输出。由于经典模拟舵机信号是 50hz （周期为 20ms）的脉冲信号，根据正电平的长度决定舵机偏转的角度。长度为 1.5ms 对应舵机中点，1.0ms 对应偏转 -45度，2.0ms 对应 +45度。`setServo(index, value)` 函数可以用于设置偏转角度。

  * value 参数单位为 0.01ms，类型是无符号单个字节的整数（没有符号位，8个字节全部用于表示数值），取值范围为 [0, 255]。那么可以得到下列的对应关系：

      | Value | 50 | 100 | 150 | 200 | 250 |
      |-|-|-|-|-|-|
      |正脉宽| 0.5ms | 1.0ms | 1.5ms | 2.0ms | 2.5ms|
      |角度| -90° | -45° | 0° | 45° | 90° |

    * 这里只是对应常规的模拟舵机，实际偏转角度可能有所不同，而且和实际舵机臂安装情况相关。
    * 虽然舵机常规使用 1.0-2.0ms 的正脉宽，但通常这也不是它的极限，可以通过输入更大的范围获取更大的角度范围。虽然不一定能支持 0.5-2.5 ms 这么大，但 0.9-2.1 ms 问题不大。
    * 具体调试时，需要注意观察舵机的运转状态，如果发现异常（异响/发热/抖动/抱死等等），应当立即缩小脉宽范围。
    * 调试时候，应当注意断开其与其它机构的机械连接，以免造成冲突或干涉。

  * index 的范围是 [0, 1, 2, 3]，因为一共四组舵机输出接口（2.54mm 杜邦排针-3Pin）。

示例代码将通道输入的原始值进行 f(x) = 150 + (x * 2 / 5) 运算，就将原始数值 [-127，127] 的范围，转换成 [99, 200]（单位：0.01ms）。

> 具体电机舵机编号与实际接口的对应关系，请查看电路板上的标识或所附说明文档
